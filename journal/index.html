<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Journal | My Journey</title>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Playfair+Display:wght@400;700&family=Cormorant+Garamond:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
  <style>
    :root {
      --primary-bg: #fdfaf6;
      --secondary-bg: #edece6;
      --text-color: #3f3f3f;
      --accent-color: #8e150f;
      --border-color: #bfa88c;
      --shadow-light: rgba(0,0,0,0.08);
      --shadow-medium: rgba(0,0,0,0.15);
      --renaissance-texture: url('https://www.transparenttextures.com/patterns/cream-pixels.png');
      --renaissance-bg-img: url('/journal/journalBG.jpg');
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Merriweather', serif;
      margin: 0;
      padding: 0;
      color: var(--text-color);
      line-height: 1.8;
      font-size: 1.1em;
      overflow-x: hidden;
      background: var(--renaissance-bg-img) fixed center center / cover no-repeat;
      background-blend-mode: multiply;
      background-color: #c0b29a;
      position: relative;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      animation: backgroundFadeIn 2s ease-out forwards;
    }

    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--renaissance-texture);
        opacity: 0.6;
        pointer-events: none;
        z-index: 0;
    }

    @keyframes backgroundFadeIn {
        from { opacity: 0.8; }
        to { opacity: 1; }
    }

    header {
      background: rgba(255, 255, 255, 0.95);
      padding: 3.5rem 0;
      transition: transform 0.6s ease, opacity 0.6s ease;
      text-align: center;
      box-shadow: 0 6px 20px var(--shadow-medium);
      position: relative;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 100;
      backdrop-filter: blur(8px);
    }

    header.header-hidden {
      transform: translateY(-100%);
      opacity: 0;
    }

    @keyframes headerSlideDown {
        from { transform: translateY(-100%); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    header h1 {
      font-family: 'Playfair Display', serif;
      font-size: 4.2rem;
      font-weight: 700;
      margin-bottom: 0.8rem;
      color: #333;
      letter-spacing: 0.08em;
      text-shadow: 2px 2px 10px rgba(0,0,0,0.1);
      transition: color 0.5s ease-in-out;
    }
    header h1:hover {
        color: var(--accent-color);
    }
    header p {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.4em;
      font-style: italic;
      color: #6a6a6a;
      margin-top: 0.5rem;
      margin-bottom: 2.5rem;
      letter-spacing: 0.03em;
      transition: color 0.5s ease-in-out;
    }
    header p:hover {
        color: var(--text-color);
    }
    nav {
      margin-top: 1.8rem;
      display: flex;
      justify-content: center;
      gap: 3rem;
    }
    nav a {
      text-decoration: none;
      color: var(--text-color);
      font-family: 'Cormorant Garamond', serif;
      font-weight: 600;
      font-size: 1.3em;
      padding: 0.6rem 1.2rem;
      position: relative;
      transition: color 0.4s ease, transform 0.3s ease, background-color 0.3s ease;
      border-radius: 5px;
    }
    nav a::after {
      content: '';
      position: absolute;
      left: 50%;
      bottom: -5px;
      width: 0;
      height: 2px;
      background-color: var(--accent-color);
      transition: width 0.3s ease-out, left 0.3s ease-out;
    }
    nav a:hover {
      color: var(--accent-color);
      transform: translateY(-3px);
      background-color: rgba(122, 74, 45, 0.05);
    }
    nav a:hover::after {
      width: 100%;
      left: 0;
    }

    main {
      flex-grow: 1;
      max-width: 1000px;
      margin: 8rem auto 4rem auto;
      padding: 3.5rem;
      background: rgba(255, 255, 255, 0.98);
      box-shadow: 0 10px 40px rgba(0,0,0,0.25);
      border-radius: 15px;
      position: relative;
      z-index: 10;
      animation: mainFadeIn 1.5s ease-out forwards;
      backdrop-filter: blur(5px);
      width: 100%;
    }

    @keyframes mainFadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    section {
      margin-bottom: 4rem;
    }

    h2 {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 2.8rem;
      color: #4a4a4a;
      margin-bottom: 1.8rem;
      position: relative;
      padding-bottom: 0.8rem;
      letter-spacing: 0.04em;
    }
    h2::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100px;
      height: 4px;
      background-color: var(--accent-color);
      border-radius: 2px;
      transform-origin: left;
      animation: underlineDraw 1.5s ease-out forwards;
    }
    @keyframes underlineDraw {
        from { width: 0; }
        to { width: 100px; }
    }

    p {
      font-size: 1.15em;
      margin-bottom: 1.5rem;
      color: var(--text-color);
      transition: all 0.3s ease;
    }

    .profile-section {
      text-align: center;
      margin-bottom: 4rem;
      padding: 2rem 0;
    }

    .profile-image {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid var(--accent-color);
      box-shadow: 0 10px 30px var(--shadow-medium);
      margin-bottom: 1.0rem;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }

    .profile-image:hover {
      transform: scale(1.05);
      box-shadow: 0 15px 40px var(--shadow-medium);
    }

    .profile-name {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      font-weight: 700;
      color: #333;
      margin-bottom: 1rem;
      letter-spacing: 0.05em;
    }

    .highlight-card {
      background: #fdfaf6;
      padding: 2.2rem;
      border-left: 6px solid var(--accent-color);
      margin-bottom: 2.5rem;
      border-radius: 12px;
      transition: transform 0.4s ease, box-shadow 0.4s ease, background 0.4s ease;
      box-shadow: 0 4px 18px var(--shadow-light);
      position: relative;
      overflow: hidden;
    }
    .highlight-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at top left, rgba(122, 74, 45, 0.08) 0%, rgba(255,255,255,0) 70%);
        z-index: 0;
        opacity: 0;
        transition: opacity 0.5s ease;
    }
    .highlight-card:hover::before {
        opacity: 1;
    }
    .highlight-card:hover {
      transform: translateY(-8px) scale(1.005);
      box-shadow: 0 12px 35px rgba(0,0,0,0.2);
      background: #fff;
    }
    
    .highlight-card h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      color: var(--accent-color);
      margin-bottom: 1rem;
      position: relative;
      z-index: 1;
    }
    
    .highlight-card p {
      position: relative;
      z-index: 1;
      margin-bottom: 0.5rem;
    }

    .highlight-card time {
      font-family: 'Cormorant Garamond', serif;
      font-style: italic;
      color: #888;
      display: block;
      margin-bottom: 1rem;
      font-size: 1em;
      letter-spacing: 0.03em;
      position: relative;
      z-index: 1;
    }

    footer {
      margin-top: auto;
      text-align: center;
      padding: 2.5rem;
      font-size: 0.95em;
      background: rgba(255, 255, 255, 0.9);
      border-top: 1px solid var(--border-color);
      color: #777;
      box-shadow: 0 -4px 15px var(--shadow-light);
      position: relative;
      z-index: 10;
      backdrop-filter: blur(5px);
    }
    footer em {
      font-style: italic;
      color: #888;
    }
    footer p {
      text-align: center;
      margin-left: auto;
      margin-right: auto;
    }

    .fade-in-on-scroll {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 1s ease-out, transform 1s ease-out;
    }
    .fade-in-on-scroll.is-visible {
        opacity: 1;
        transform: translateY(0);
    }

    .entry {
      background: #fdfaf6;
      padding: 2.2rem;
      border-left: 6px solid var(--accent-color);
      margin-bottom: 2.5rem;
      border-radius: 12px;
      transition: transform 0.4s ease, box-shadow 0.4s ease, background 0.4s ease;
      box-shadow: 0 4px 18px var(--shadow-light);
      position: relative;
      overflow: hidden;
    }
    .entry::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at top left, rgba(122, 74, 45, 0.08) 0%, rgba(255,255,255,0) 70%);
        z-index: 0;
        opacity: 0;
        transition: opacity 0.5s ease;
    }
    .entry:hover::before {
        opacity: 1;
    }
    .entry:hover {
      transform: translateY(-8px) scale(1.005);
      box-shadow: 0 12px 35px rgba(0,0,0,0.2);
      background: #fff;
    }
    
    .entry time {
      font-family: 'Cormorant Garamond', serif;
      font-style: italic;
      color: #888;
      display: block;
      margin-bottom: 1rem;
      font-size: 1em;
      letter-spacing: 0.03em;
      position: relative;
      z-index: 1;
    }

    .entry p {
      position: relative;
      z-index: 1;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
      margin-top: 2.5rem;
      padding: 2rem;
      background: #fdfaf6;
      border-left: 6px solid var(--accent-color);
      border-radius: 12px;
      box-shadow: 0 4px 18px var(--shadow-light);
    }
    textarea, input[type="text"] {
      padding: 1rem 1.2rem;
      font-size: 1em;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      font-family: 'Merriweather', serif;
      background-color: #fff;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
    textarea:focus, input[type="text"]:focus {
      border-color: var(--accent-color);
      box-shadow: 0 0 8px rgba(122, 74, 45, 0.2);
      outline: none;
    }
    input[type="submit"] {
      background: var(--accent-color);
      color: white;
      border: none;
      cursor: pointer;
      padding: 1rem 2rem;
      border-radius: 8px;
      font-family: 'Playfair Display', serif;
      font-size: 1.2em;
      transition: background-color 0.3s ease, transform 0.3s ease;
      box-shadow: 0 4px 10px rgba(122, 74, 45, 0.3);
    }
    input[type="submit"]:hover {
      background: #5f3a23;
      transform: translateY(-3px) scale(1.02);
    }

    .social-links {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1.5rem;
      margin: 0rem 0;
    }

    .social-links a {
      text-decoration: none;
      color: var(--text-color);
      font-family: 'Cormorant Garamond', serif;
      font-weight: 600;
      font-size: 1.2em;
      padding: 0.5rem 1rem;
      position: relative;
      transition: color 0.4s ease, transform 0.3s ease, background-color 0.3s ease;
      border-radius: 5px;
      display: flex;
      align-items: center;
    }

    .social-links a i {
      margin-right: 0.5em;
    }

    .social-links a::after {
      content: '';
      position: absolute;
      left: 50%;
      bottom: -5px;
      width: 0;
      height: 2px;
      background-color: var(--accent-color);
      transition: width 0.3s ease-out, left 0.3s ease-out;
    }

    .social-links a:hover {
      color: var(--accent-color);
      transform: translateY(-3px);
      background-color: rgba(122, 74, 45, 0.05);
    }

    .social-links a:hover::after {
      width: 100%;
      left: 0;
    }

    /* Mobile responsiveness */
    @media (max-width: 768px) {
      body {
        font-size: 1em;
        line-height: 1.6;
      }

      header {
        padding: 2rem 1.5rem;
      }

      header h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
      }

      header p {
        font-size: 1.2em;
        margin-bottom: 1.5rem;
        padding: 0 1rem;
        text-align: center;
      }

      nav {
        flex-direction: column;
        gap: 1rem;
        margin-top: 1rem;
        align-items: center;
      }

      nav a {
        font-size: 1.1em;
        padding: 0.5rem 1rem;
        width: auto;
      }

      main {
        margin: 4rem 1.5rem;
        padding: 2rem 1.5rem;
        max-width: calc(100% - 3rem);
      }

      section {
        margin-bottom: 2rem;
      }

      h2 {
        font-size: 2rem;
        text-align: center;
      }

      h2::after {
        width: 80px;
        left: 50%;
        transform: translateX(-50%);
      }

      p {
        font-size: 1em;
        text-align: center;
      }

      .entry {
        padding: 1.5rem;
        margin-bottom: 1.5rem;
      }

      .entry time {
        font-size: 0.9em;
      }

      form {
        padding: 1.5rem;
        margin-top: 1.5rem;
      }

      textarea, input[type="text"] {
        padding: 0.8rem;
        font-size: 0.9em;
      }

      input[type="submit"] {
        padding: 0.8rem 1.5rem;
        font-size: 1em;
      }

      footer {
        padding: 1.5rem;
        font-size: 0.9em;
      }

      footer p {
        padding: 0 1rem;
      }

      .social-links {
        gap: 1rem;
        padding: 0 1rem;
      }

      .social-links a {
        font-size: 1em;
        padding: 0.4rem 0.8rem;
      }
    }

    @media (max-width: 480px) {
      header {
        padding: 2rem 1rem;
      }

      header h1 {
        font-size: 2rem;
      }

      header p {
        font-size: 1em;
        padding: 0 0.5rem;
        text-align: center;
      }

      nav a {
        font-size: 1em;
      }

      main {
        margin: 3rem 1rem;
        padding: 1.5rem 1rem;
        max-width: calc(100% - 2rem);
      }

      h2 {
        font-size: 1.8rem;
      }

      .entry {
        padding: 1rem;
      }

      form {
        padding: 1rem;
      }

      textarea, input[type="text"] {
        padding: 0.7rem;
        font-size: 0.85em;
      }

      input[type="submit"] {
        padding: 0.7rem 1.2rem;
        font-size: 0.9em;
      }

      footer {
        padding: 1rem;
      }

      footer p {
        padding: 0 0.5rem;
      }

      .social-links {
        padding: 0 0.5rem;
      }
    }
  </style>
</head>
<body>
  <header id="header">
    <h1 style="margin-bottom: 0.3rem; margin-top: 0.5rem;">My Journey</h1>
    <p><em>Sharing little thoughts from my life.</em></p>
    <nav>
      <a href="/">Home</a>
      <a href="/journal">Journal</a>
      <a href="/philosophy">Philosophy</a>
      <a href="/projects">Projects</a>
      <a href="/about">About</a>
    </nav>
  </header>

  <main>
    <section class="fade-in-on-scroll">
      <h2>Journal Entries</h2>
      <p>I will be penning down my thoughts here.</p>
      <p>If you would like to know more about my day then connect with me on my socials.</p>

      <!-- DYNAMIC ENTRIES FROM SUPABASE -->
      <div id="journal-entries"></div>

      <!-- STATIC / LEGACY ENTRIES BELOW -->
      <div class="entry fade-in-on-scroll">
        <time>November 11th, 2025 - 10:48</time>
        <p>Hunting for internships has been taking up a lot of my free time. Studies are going alright, not too bad, not too good. I’ve been working out consistently, and I’ve been waking up with a lot of energy these days, which I think is really cool. I read an interesting tweet about humanity’s future and long-term progress, which got me excited. I’m learning every day, trying to grow my understanding of the world and how things work. But sometimes I wonder if I’m stuck in a loop where I only learn without applying anything. If that’s true, then I need to break that loop and start creating more.</p>
      </div>

      <div class="entry fade-in-on-scroll">
        <time>October 22nd, 2025 - 14:28</time>
        <p>I sit by the window as I write this. The wind is blowing, and the weather is dark and gloomy. Fall is here, and winter is coming soon. The plants and trees are changing color. Today I want to sit and reflect on what drives me and what gives meaning to my efforts.</p>
        <p>There have been moments when I felt deeply inspired—by stories, ideas, and even fictional characters. I think what draws me in is discipline, clarity, and the ability to stay detached from things that don’t matter. These qualities resonate with me. They make me want to understand myself better and strive for a more grounded sense of purpose.</p>
        <p>But what does purpose truly mean? What am I actually seeking? Sometimes I wonder if I’m chasing an ideal that isn’t clearly defined. Other times it feels like I’m simply trying to understand what makes a life meaningful.</p>
        <p>I’m slowly realizing that my own path will look very different from anyone else’s. The world today functions differently, and the challenges are not the same as the ones people faced in the past. Maybe that’s why it feels difficult to begin—because the landscape of purpose has changed.</p>
        <p>Yet somewhere deep inside, I know the essence remains. The search continues, only its form has evolved.</p>
      </div>

      <div class="entry fade-in-on-scroll">
        <time>October 14th, 2025 - 14:20</time>
        <p>The past week was pretty relaxing. My girlfriend came to visit and stayed for a week. She cooked, and we spent time together, which I really enjoyed. I also had two midterms last week, both of which I think I did average on. My sleep schedule wasn’t great either.</p>
        <p>This week, I’ve already finished my assignments. I plan to make good progress on GPT-2 and the other project we’re working on. I also need to find time to study for my Artificial Intelligence class. I want to keep myself busy throughout the week. Let’s see how it goes.</p>
      </div>

      <div class="entry fade-in-on-scroll">
        <time>October 5th, 2025 - 22:39</time>
        <p>This week has been incredibly productive. I hosted the web, studied, and I’m currently trying to build GPT-2 from scratch. I believe I’ve made good progress. I plan to link the project on the website sometime next week. This week is going to be busy with exams and multiple projects going on.</p>
        <p>My running frequency has gone down a little, which I plan to improve this week. I also hope to stay on campus most of the time to remain productive. Overall, things are going well, and I want to keep the momentum going.</p>
      </div>

      <div class="entry fade-in-on-scroll">
        <time>October 1st, 2025 - 19:52</time>
        <p>I was thinking that my site would constantly need updates via git commits. So I could either add functionality to add entries, update projects, and add photos directly, or just stick to updating through git commits. There’s also the option of using a service like n8n to automate everything, which is interesting but I’m unsure about it.</p>
        <p>After thinking it through, I’ve decided not to add that functionality for now and to stick with git commits. I’m moving on to creating GPT-2 from scratch. The site will be maintained manually for the time being.</p>      
      </div>

      <div class="entry fade-in-on-scroll">
        <time>September 29th, 2025 - 14:42</time>
        <p>I’m very tired right now, running on only 2.5 hours of sleep, but I’m also excited about finishing this website. I want to complete it today. For the past few weeks, I’ve been feeling deeply reflective about life, progress, and where I’m heading. These thoughts have been pushing me forward in their own way.</p>
      </div>
    </section>
  </main>

  <footer>
    <div class="social-links">
      <a href="https://www.instagram.com/not._raj_/" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-instagram"></i> Instagram</a>
      <a href="https://x.com/philosrach" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-x-twitter"></i> X</a>
      <a href="https://github.com/rajdangi31" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-github"></i> GitHub</a>
      <a href="mailto:dangiprince263@gmail.com"><i class="fa-solid fa-envelope"></i> Gmail</a>
      <a href="https://www.linkedin.com/in/rajdangi01" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-linkedin"></i> LinkedIn</a>
    </div>
    <p><em>"Nothing is impossible for the one who will try."</em></p>
    <p>&copy; 2025 philosrach. All rights reserved.</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    // --- Supabase client (same project as admin) ---
    const SUPABASE_URL = "https://avlvjlcbrnqqjbbomveg.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF2bHZqbGNicm5xcWpiYm9tdmVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwNjUwOTUsImV4cCI6MjA3ODY0MTA5NX0.uZjxsa5ysISDHa0GXXDz8_GdR4aVf5I-VIIiboYIK4g";

    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    // Header hide/show on scroll - hide when scrolling down, show when scrolling up
    let lastScrollY = 0;
    const header = document.getElementById("header");

    window.addEventListener("scroll", function() {
      const currentScrollY = window.scrollY;
      
      if (currentScrollY > lastScrollY && currentScrollY > 100) {
        // Scrolling DOWN - hide header
        header.classList.add("header-hidden");
      } else {
        // Scrolling UP - show header
        header.classList.remove("header-hidden");
      }
      
      lastScrollY = currentScrollY;
    }, { passive: true });

    // Fade-in effect on scroll
    const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
    const fadeObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
        }
      });
    }, observerOptions);

    function observeFadeIns() {
      document.querySelectorAll('.fade-in-on-scroll').forEach(el => fadeObserver.observe(el));
    }

    // --- Fetch journal entries from Supabase ---
    async function loadJournalEntries() {
      const container = document.getElementById("journal-entries");
      if (!container) return;

      container.innerHTML = "<p>Loading entries...</p>";

      const { data, error } = await supabase
        .from("journal_entries")
        .select("*")
        .order("created_at", { ascending: false });

      if (error) {
        console.error("Error loading journal entries:", error);
        container.innerHTML = `<p style="color: #a01818;">Could not load journal entries.</p>`;
        return;
      }

      container.innerHTML = "";

      data.forEach((entry) => {
        const div = document.createElement("div");
        div.className = "entry fade-in-on-scroll";

        const displayDate = entry.date_text || new Date(entry.created_at).toLocaleString();
        const bodyText = entry.content || "";

        div.innerHTML = `
          <time>${displayDate}</time>
          <p>${bodyText}</p>
        `;

        container.appendChild(div);
      });

      // Attach fade-in to dynamically added entries
      observeFadeIns();
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Attach fade-in to any existing elements (header section + static entries)
      observeFadeIns();
      // Load Supabase entries
      loadJournalEntries();
    });
  </script>
</body>
</html>